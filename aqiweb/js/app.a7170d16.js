(function(t){function a(a){for(var n,s,o=a[0],c=a[1],u=a[2],f=0,v=[];f<o.length;f++)s=o[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&v.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(a);while(v.length)v.shift()();return i.push.apply(i,u||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],n=!0,o=1;o<e.length;o++){var c=e[o];0!==r[c]&&(n=!1)}n&&(i.splice(a--,1),t=s(s.s=e[0]))}return t}var n={},r={app:0},i=[];function s(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=n,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)s.d(e,n,function(a){return t[a]}.bind(null,n));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="https://JohnSmith-Wang.github.io/aqiweb/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var u=0;u<o.length;u++)a(o[u]);var l=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},1193:function(t,a,e){"use strict";e.d(a,"a",(function(){return n})),e.d(a,"b",(function(){return r}));var n=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("main",{staticClass:"container",staticStyle:{"margin-top":"100px"},attrs:{role:"main"}},[e("div",[e("h4",[t._v("★ 練習項目")]),e("ul",[e("li",[t._v("Locale Stoarge 應用")]),e("li",[t._v("axios(AJAX) 應用")])])]),e("div",{staticStyle:{"margin-top":"30px"}},[e("h4",[t._v("★ 功能簡述")]),e("ul",[e("li",[t._v("查詢由政府開放資料平台的空氣監測站資料")]),e("li",[t._v("使用者可以將常用的監測站加入書籤")]),e("li",[t._v("使用者下次使用相同瀏覽器時，會讀取上一次加入書籤的監測站")]),e("li",[t._v("會以顏色標註該地區的空氣品質危險程度")])])])])])}]},"13d8":function(t,a,e){},"3ec3":function(t,a,e){"use strict";var n=e("13d8"),r=e.n(n);r.a},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("div",[e("Navbar")],1),e("div",[e("router-view")],1)])},i=[],s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"navbar navbar-expand-md navbar-dark bg-dark fixed-top"},[e("span",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("空氣品質查詢")]),t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarsExampleDefault"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/",exact:""}},[t._v("介紹")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/aqi"}},[t._v("成品")])],1)])])])])},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarsExampleDefault","aria-controls":"navbarsExampleDefault","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],c=e("2877"),u={},l=Object(c["a"])(u,s,o,!1,null,null,null),f=l.exports,v={components:{Navbar:f}},d=v,p=(e("5c0b"),Object(c["a"])(d,r,i,!1,null,null,null)),g=p.exports,y=e("8c4f"),m=e("bb51"),h=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",[e("Selector",{attrs:{countyMenu:t.county},on:{selTarget:t.toFilter}})],1),e("div",{staticClass:"container justify-content-center"},[e("div",{staticClass:"card-columns"},t._l(t.favCountyList,(function(a){return e("Aqicard",{key:a.SiteName,attrs:{county:a,isActive:!0},on:{favstar:t.tagCountyHandler}})})),1)]),e("hr"),e("div",{staticClass:"container justify-content-center"},[e("div",{staticClass:"card-columns"},t._l(t.aqiCardList,(function(a){return e("Aqicard",{key:a.SiteName,attrs:{county:a,isActive:!1},on:{favstar:t.tagCountyHandler}})})),1)])])},b=[],_=(e("4de4"),e("c740"),e("4160"),e("c975"),e("a434"),e("159b"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-8"},[e("h4",{staticClass:"mb-4",staticStyle:{"text-align":"center"}},[t._v("AQI 空氣品質監測查詢網")]),e("div",{staticClass:"mb-4"},[e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.target,expression:"target"}],staticClass:"form-control form-control-sm",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.target=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v("--- 請選擇城市 ---")]),t._l(t.countyMenu,(function(a,n){return e("option",{key:n,domProps:{value:a}},[t._v(t._s(a))])}))],2)])])])])])}),C=[],S={data:function(){return{target:""}},props:{countyMenu:{type:Array,required:!0}},watch:{target:function(t){this.$emit("selTarget",t)}}},x=S,w=(e("6698"),Object(c["a"])(x,_,C,!1,null,"4ee68246",null)),O=w.exports,A=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"card mb-3",class:t.testColor,staticStyle:{"max-width":"18rem"}},[e("div",{staticClass:"card-header"},[t._v(" "+t._s(t.county.County)+"-"+t._s(t.county.SiteName)+" "),e("a",{staticClass:"float-right",attrs:{href:"#"},on:{click:t.starHandler}},[e("i",{staticClass:"fa-star",class:{fas:t.starActive,far:!t.starActive}})])]),e("div",{staticClass:"card-body"},[e("ul",{staticClass:"list-unstyled"},[e("li",[e("strong",[t._v("AQI 指數:")]),t._v(" "+t._s(t.county.AQI))]),e("li",[e("strong",[t._v("PM2.5:")]),t._v(" "+t._s(t.county["PM2.5"]))]),e("li",[e("strong",[t._v("說明:")]),t._v(" "+t._s(t.county.Status))])]),t._v(" "+t._s(t.county.PublishTime)+" ")])])])},I=[],T={data:function(){return{starActive:this.isActive,cardColor:""}},props:{county:{type:Object,required:!0},isActive:{type:Boolean}},methods:{starHandler:function(){this.$emit("favstar",this.county),this.starActive=!this.starActive},cardColorHandler:function(t){switch(t){case"普通":return"bg-aqua";case"對敏感族群不健康":return"bg-pink";case"對所有族群不健康":return"bg-yellow";case"非常不健康":return"bg-warning";case"危害":return"bg-red";default:return"bg-light"}}},computed:{testColor:function(){var t=this.county.Status;switch(t){case"普通":return"bg-aqua";case"對敏感族群不健康":return"bg-pink";case"對所有族群不健康":return"bg-yellow";case"非常不健康":return"bg-warning";case"危害":return"bg-red";default:return"bg-light"}}}},j=T,q=(e("3ec3"),Object(c["a"])(j,A,I,!1,null,"a8425054",null)),k=q.exports,E={data:function(){return{aqidata:[],county:[],tagCounty:[],filter:""}},components:{Selector:O,Aqicard:k},methods:{getdata:function(){var t=this,a="https://opendata.epa.gov.tw/api/v1/AQI?%24skip=0&%24top=1000&%24format=json";this.$http.get(a).then((function(a){t.aqidata=a.data,a.data.forEach((function(a){-1===t.county.indexOf(a.County)&&t.county.push(a.County)}))}))},toFilter:function(t){this.filter=t},tagCountyHandler:function(t){var a=this,e=a.tagCounty.findIndex((function(a){return a===t.SiteName}));-1===a.tagCounty.indexOf(t.SiteName)?(a.tagCounty.push(t.SiteName),a.$store.commit("ADD_LIST",t.SiteName)):(a.tagCounty.splice(e,1),a.$store.commit("DEL_LIST",e))},InsertTagCounty:function(){var t,a=this;t=this.$store.getters["favlist"],t.forEach((function(t){return a.tagCounty.push(t)}))}},computed:{aqiCardList:function(){var t=this;return""===this.filter?t.aqidata.filter((function(a){return-1===t.tagCounty.indexOf(a.SiteName)})):t.aqidata.filter((function(a){if(a.County===t.filter)return-1===t.tagCounty.indexOf(a.SiteName)}))},favCountyList:function(){var t=this;return t.aqidata.filter((function(a){return t.tagCounty.indexOf(a.SiteName)>-1}))}},mounted:function(){this.$store.dispatch("INIT_LIST"),this.getdata(),this.InsertTagCounty()}},N=E,$=Object(c["a"])(N,h,b,!1,null,null,null),L=$.exports;n["a"].use(y["a"]);var P=[{path:"/",name:"Home",component:m["default"]},{path:"/aqi",name:"Aqi",component:L}],D=new y["a"]({routes:P,linkActiveClass:"active"}),M=D,H=e("2f62");n["a"].use(H["a"]);var J={save:function(t){localStorage.setItem("aqi-fav",JSON.stringify(t))},load:function(){return JSON.parse(localStorage.getItem("aqi-fav")||"[]")}},Q=new H["a"].Store({strict:!0,state:{tagCounty:[]},getters:{favlist:function(t){return t.tagCounty}},mutations:{SET_LIST:function(t,a){t.tagCounty=a,J.save(t.tagCounty)},ADD_LIST:function(t,a){t.tagCounty.push(a),J.save(t.tagCounty)},DEL_LIST:function(t,a){t.tagCounty.splice(a,1),J.save(t.tagCounty)}},actions:{INIT_LIST:function(t){var a=t.commit;a("SET_LIST",J.load())}}}),F=e("bc3a"),B=e.n(F),W=e("a7fe"),X=e.n(W);e("4989");n["a"].use(X.a,B.a),n["a"].config.productionTip=!1,new n["a"]({router:M,store:Q,render:function(t){return t(g)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";var n=e("9c0c"),r=e.n(n);r.a},6698:function(t,a,e){"use strict";var n=e("df2d"),r=e.n(n);r.a},"7ad4":function(t,a,e){"use strict";var n=e("9cae"),r=e.n(n);a["default"]=r.a},"9c0c":function(t,a,e){},"9cae":function(t,a){},bb51:function(t,a,e){"use strict";var n=e("1193"),r=e("7ad4"),i=e("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,null,null);a["default"]=s.exports},df2d:function(t,a,e){}});
//# sourceMappingURL=app.a7170d16.js.map