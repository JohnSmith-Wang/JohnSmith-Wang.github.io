(function(t){function e(e){for(var n,o,i=e[0],l=e[1],c=e[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="https://JohnSmith-Wang.github.io/maskmap/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0299":function(t,e,a){},"1efe":function(t,e,a){"use strict";var n=a("c46b"),r=a.n(n);r.a},2682:function(t,e,a){},4459:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"navbarArea"}},[a("Navbar")],1),a("div",{attrs:{id:"viewArea"}},[a("router-view")],1)])},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-md navbar-dark bg-dark"},[a("span",{staticClass:"navbar-brand"},[t._v("簡易口罩地圖")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarsExampleDefault"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/",exact:""}},[t._v("介紹")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/maskmap"}},[t._v("成品")])],1)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarsExampleDefault","aria-controls":"navbarsExampleDefault","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l=a("2877"),c={},u=Object(l["a"])(c,o,i,!1,null,null,null),p=u.exports,d={components:{Navbar:p}},m=d,f=(a("5c0b"),Object(l["a"])(m,r,s,!1,null,null,null)),v=f.exports,g=a("8c4f"),h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",attrs:{id:"main"}},[a("div",{staticClass:"col-12 col-xl-6 content"},[a("h4",[t._v("★ 練習項目")]),a("ul",[a("li",[t._v("leaflet 應用")]),a("li",[t._v("axios(AJAX) 應用")]),a("li",[t._v("Vuex 應用")])])]),a("div",{staticClass:"col-12 col-xl-6 content"},[a("h4",[t._v("★ 功能簡述")]),a("ul",[a("li",[t._v("選擇縣市後，再選擇行政區，下表便會顯示店家資料")]),a("li",[t._v("點擊顯示的店家資料後，地圖會自動將座標鎖定在該店家，並用紅色座標標示")]),a("li",[t._v("點擊座標會顯示該店家的詳細資料，並表示出成人口罩、小孩口罩的數量")]),a("li",[t._v("該網站支援RWD功能，一旦進入RWD模式，可以透過箭頭顯示或隱藏店家列表")]),a("li",{staticClass:"text-danger"},[a("strong",[t._v("聲明:該網站僅限用於學術、練習使用，請勿使用於商業行為")])])])]),a("div",{staticClass:"col-12 col-xl-6 content"},[a("h4",[t._v("★ 更新履歷")]),a("ul",[a("li",[t._v("9/30 初次上傳到github")])])]),a("div",{staticClass:"col-12 col-xl-6 content"},[a("h4",[t._v("★ 資料來源")]),a("ul",[a("li",[t._v("口罩資訊："),a("a",{attrs:{target:"_blank",href:"https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json"}},[t._v("連結")]),t._v(" (作者:kiang)")]),a("li",[t._v("地圖工具："),a("a",{attrs:{target:"_blank",href:"https://leafletjs.com/"}},[t._v("leaflet")])]),a("li",[t._v("地圖："),a("a",{attrs:{target:"_blank",href:"https://www.openstreetmap.org"}},[t._v("OpenStreetMap")])])])]),a("div",{staticClass:"col-12 col-xl-6 content"},[a("h4",[t._v("★ 未來更新預定")]),a("ul",[a("li",[t._v("抓取使用者GPS的地點")])])])])}],b=(a("8b8a"),{}),C=Object(l["a"])(b,h,_,!1,null,"3c7787c4",null),w=C.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 bg-light",class:{"col-10":!t.isHide,contentHide:t.isHide,contentDisplay:!t.isHide},attrs:{id:"sidebarArea"}},[a("div",{staticClass:"sMenu"},[a("div",{staticClass:"col-12 sArea"},[a("Selector")],1),a("div",{staticClass:"col-12 sArea"},[a("Storemenu",{attrs:{StoreIndex:t.StoreIndex}})],1)])]),a("div",{staticClass:"col-1",attrs:{id:"btnArea"},on:{click:t.changeHide}},[a("i",{staticClass:"fas fa-chevron-right",class:{iconDisplay:!t.isHide,iconHide:t.isHide}})]),a("div",{staticClass:"col-xl-9",class:{"col-1":!t.isHide,"col-11":t.isHide},attrs:{id:"mapArea"}},[a("Map",{attrs:{StoreIndex:t.StoreIndex,selStore:t.SearchResult}})],1)])])},x=[],S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 selStyle"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selCounty,expression:"selCounty"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selCounty=e.target.multiple?a:a[0]},t.selCountyHanlder]}},[a("option",{attrs:{value:""}},[t._v("請選擇縣市")]),t._l(t.CountyIndex,(function(e,n){return a("option",{key:n},[t._v(t._s(e))])}))],2)]),a("div",{staticClass:"col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 selStyle"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selTown,expression:"selTown"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selTown=e.target.multiple?a:a[0]},t.selTownHanlder]}},[a("option",{attrs:{value:""}},[t._v("請選擇行政區")]),t._l(t.TownIndex,(function(e,n){return a("option",{key:n},[t._v(t._s(e))])}))],2)])])},k=[],M={data:function(){return{selCounty:"",selTown:""}},methods:{selCountyHanlder:function(t){this.selTown="",this.$store.commit("set_StoreData",t.target.value),this.$store.commit("set_TownMenu")},selTownHanlder:function(t){this.$store.commit("set_ResultMenu",t.target.value)}},computed:{CountyIndex:function(){return this.$store.getters["COUNTY_Menu"]},TownIndex:function(){return this.$store.getters["TOWN_Menu"]}},watch:{selCounty:function(){this.$store.commit("clean_all")}}},I=M,O=(a("8abd"),Object(l["a"])(I,S,k,!1,null,"2467dc58",null)),P=O.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"col-12"},[t.StoreIndex.length>0?a("Pagination",{attrs:{dataLength:t.StoreIndex.length,nowPage:t.nowPage},on:{pageChange:t.pageChangeHandler}}):t._e()],1),a("div",{staticClass:"col-12"},[a("Storecard",{attrs:{StoreIndex:t.pageStoreIndex}})],1)])},T=[],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"storeMenu"},t._l(t.StoreIndex,(function(e){return a("div",{key:e.properties.id,staticClass:"card storeCard",class:e.properties.name===t.TargetStore?"bg-danger":"bg-success",on:{click:function(a){return a.preventDefault(),t.selStoreHandler(e)}}},[a("div",{staticClass:"card-header text-light storeName"},[t._v(" "+t._s(e.properties.name)+" ")]),a("ul",{staticClass:"list-group list-group-flush storeInfo"},[a("li",{staticClass:"list-group-item",class:e.properties.name===t.TargetStore?"list-group-item-danger":""},[a("strong",[t._v("地址: ")]),a("br"),t._v(t._s(e.properties.address)+" ")]),a("li",{staticClass:"list-group-item",class:e.properties.name===t.TargetStore?"list-group-item-danger":""},[a("strong",[t._v("電話: ")]),a("br"),t._v(t._s(e.properties.phone)+" ")]),a("li",{staticClass:"list-group-item",class:e.properties.name===t.TargetStore?"list-group-item-danger":""},[a("strong",[t._v("備註: ")]),a("br"),t._v(t._s(e.properties.note)+" ")]),a("li",{staticClass:"list-group-item",class:t.maskColor(e.properties.mask_adult)},[a("strong",[t._v("成人口罩: ")]),t._v(t._s(e.properties.mask_adult)+" ")]),a("li",{staticClass:"list-group-item",class:t.maskColor(e.properties.mask_child)},[a("strong",[t._v("小孩口罩: ")]),t._v(t._s(e.properties.mask_child)+" ")])])])})),0)},H=[],A=(a("b0c0"),{data:function(){return{TargetStore:""}},props:{StoreIndex:{type:Array,required:!0}},methods:{maskColor:function(t){return 0===t?"list-group-item-danger":t<=100?"list-group-item-warning":"list-group-item-info"},selStoreHandler:function(t){this.TargetStore=t.properties.name,this.$store.commit("search_Handler",t)}}}),D=A,E=(a("1efe"),Object(l["a"])(D,j,H,!1,null,"31909d27",null)),N=E.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-8 col-sm-5 col-md-4 col-lg-3 col-xl-7",attrs:{id:"paginationArea"}},[a("div",{attrs:{id:"totalpageArea"}},[t._v(" "+t._s(t.selPage)+" of "+t._s(t.totalPage)+" ")]),a("div",{attrs:{id:"pageArea"}},[a("ul",{staticClass:"pagination pagination-sm"},[a("li",{staticClass:"page-item",class:{"not-active":1===t.nowPage},on:{click:function(e){return e.preventDefault(),t.pageChangeEmit(t.nowPage-1)}}},[t._m(0)]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selPage,expression:"selPage"}],staticClass:"form-control form-control-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selPage=e.target.multiple?a:a[0]},t.pageSelEmit]}},t._l(t.totalPage,(function(e,n){return a("option",{key:n},[t._v(t._s(e))])})),0),a("li",{staticClass:"page-item",class:{"not-active":t.nowPage===t.totalPage},on:{click:function(e){return e.preventDefault(),t.pageChangeEmit(t.nowPage+1)}}},[t._m(1)])])])])},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link"},[a("span",[t._v("<")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link"},[a("span",[t._v(">")])])}],U=(a("a9e3"),{data:function(){return{selPage:"1"}},props:{dataLength:{type:Number,required:!0},nowPage:{type:Number,required:!0}},methods:{pageChangeEmit:function(t){this.$emit("pageChange",t)},pageSelEmit:function(t){var e=Number(t.target.value);this.$emit("pageChange",e)}},computed:{totalPage:function(){return Math.ceil(this.dataLength/5)}},watch:{nowPage:function(t){this.selPage=t}}}),W=U,J=(a("82c6"),Object(l["a"])(W,R,z,!1,null,"4671c85d",null)),q=J.exports,L={data:function(){return{nowPage:1}},props:{StoreIndex:{type:Array,required:!0}},components:{Storecard:N,Pagination:q},methods:{pageChangeHandler:function(t){this.nowPage=t}},computed:{pageStoreIndex:function(){var t=[],e=5*(this.nowPage-1);if(this.StoreIndex.length>0)for(var a=0;a<5;a++)this.StoreIndex[a+e]&&t.push(this.StoreIndex[a+e]);return t}},watch:{StoreIndex:function(){this.nowPage=1}}},V=L,Y=Object(l["a"])(V,$,T,!1,null,null,null),B=Y.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-map",{ref:"myMap",attrs:{id:"mapBody",zoom:t.zoom,center:t.center}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution,noWrap:t.noWrap}}),a("v-marker-cluster",t._l(t.StoreIndex,(function(e){return a("l-marker",{key:e.properties.id,ref:"location",refInFor:!0,attrs:{"lat-lng":t.CorrectCoord(e.geometry.coordinates)}},[a("l-icon",{attrs:{"icon-url":e.properties.name===t.Search?t.icon.type.red:t.icon.type.blue,"shadow-url":t.icon.shadowUrl,"icon-size":t.icon.iconSize,"icon-anchor":t.icon.iconAnchor,"popup-anchor":t.icon.popupAnchor,"shadow-size":t.icon.shadowSize}}),a("l-popup",[a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("div",{staticClass:"card-header  bg-success text-light",staticStyle:{"font-size":"20px"}},[t._v(" "+t._s(e.properties.name)+" ")]),a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item"},[a("strong",[t._v("地址: ")]),a("br"),t._v(t._s(e.properties.address))]),a("li",{staticClass:"list-group-item"},[a("strong",[t._v("電話: ")]),a("br"),t._v(t._s(e.properties.phone))]),a("li",{staticClass:"list-group-item"},[a("strong",[t._v("備註: ")]),a("br"),t._v(t._s(e.properties.note))])]),a("div",{staticClass:"card-body text-center"},[a("table",[a("td",{attrs:{width:"500px"}},[a("span",{staticClass:"btn btn-lg maskCounter",class:t.maskColor(e.properties.mask_adult)},[a("strong",[t._v("成人 ")]),a("br"),t._v(t._s(e.properties.mask_adult))])]),a("td",{attrs:{width:"500px"}},[a("span",{staticClass:"btn btn-lg maskCounter",class:t.maskColor(e.properties.mask_child)},[a("strong",[t._v("小孩 ")]),a("br"),t._v(t._s(e.properties.mask_child))])])])])])])],1)})),1)],1)},G=[],X={data:function(){return{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:7,noWrap:!0,center:[23.583234,120.582597],Search:"",icon:{type:{blue:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",red:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png"},shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}}},props:{StoreIndex:{type:Array,required:!0},selStore:{type:Object}},methods:{CorrectCoord:function(t){var e=[];return e=[t[1],t[0]],e},maskColor:function(t){return 0===t?"btn-danger":t<=100?"btn-warning":"btn-info"}},watch:{StoreIndex:function(t){var e=this;if(t.length>0){var a=[t[0].geometry.coordinates[1],t[0].geometry.coordinates[0]],n={duration:2};this.$nextTick((function(){e.$refs.myMap.mapObject.setView(a,11.5,n)}))}},selStore:function(t){var e=this,a=[t.geometry.coordinates[1],t.geometry.coordinates[0]],n={duration:2};this.$nextTick((function(){e.$refs.myMap.mapObject.setView(a,25,n),e.Search=t.properties.name}))}}},K=X,Q=(a("e754"),Object(l["a"])(K,F,G,!1,null,"f50b1ea6",null)),Z=Q.exports,tt={data:function(){return{isHide:!0}},components:{Selector:P,Storemenu:B,Map:Z},methods:{EmitToMap:function(t){this.isHide=!0,this.Search=t},changeHide:function(){this.isHide=!this.isHide}},mounted:function(){this.$store.dispatch("getdata")},computed:{Alldata:function(){return this.$store.getters["INIT_Data"]},StoreIndex:function(){return this.$store.getters["Result_Menu"]},SearchResult:function(){return this.$store.getters["Search_Result"]}},watch:{SearchResult:function(){this.isHide=!0}}},et=tt,at=(a("bd50"),Object(l["a"])(et,y,x,!1,null,"095ae81a",null)),nt=at.exports;n["a"].use(g["a"]);var rt=[{path:"/",name:"Home",component:w},{path:"/maskmap",name:"Maskmap",component:nt}],st=new g["a"]({routes:rt,linkActiveClass:"active"}),ot=st,it=a("bc3a"),lt=a.n(it),ct=a("a7fe"),ut=a.n(ct),pt=(a("4989"),a("2699")),dt=a("a40a"),mt=a("4e2b"),ft=a("f60f"),vt=a("fbba"),gt=(a("6cc5"),a("e11e")),ht=a("ca9f"),_t=a.n(ht),bt=(a("8243"),a("3ac1"),a("4de4"),a("4160"),a("c975"),a("159b"),a("2f62"));n["a"].use(bt["a"]);var Ct=new bt["a"].Store({strict:!0,state:{allData:[],countyMenu:["基隆市","臺北市","新北市","桃園市","新竹縣","新竹市","苗栗縣","臺中市","彰化縣","雲林縣","嘉義縣","嘉義市","臺南市","高雄市","屏東縣","臺東縣","花蓮縣","宜蘭縣","澎湖縣","金門縣","連江縣"],townMenu:[],storeData:[],resultMenu:[],searchStore:{}},getters:{INIT_Data:function(t){return t.allData},COUNTY_Menu:function(t){return t.countyMenu},TOWN_Menu:function(t){return t.townMenu},Result_Menu:function(t){return t.resultMenu},Search_Result:function(t){return t.searchStore}},mutations:{set_data:function(t,e){var a=JSON.stringify(e);t.allData=JSON.parse(a)},set_StoreData:function(t,e){var a=[];e&&(a=t.allData.filter((function(t){return t.properties.address.substr(0,3)===e}))),t.storeData=a},set_TownMenu:function(t){var e=[],a=t.storeData,n=!1;a.forEach((function(t){var a=t.properties.town;""===a&&(n=!0),-1===e.indexOf(a)&&a&&e.push(a)})),n&&e.push("其他"),t.townMenu=e},set_ResultMenu:function(t,e){var a=[],n=t.storeData;e&&(a=n.filter((function(t){return"其他"===e?""===t.properties.town:t.properties.town===e}))),t.resultMenu=a},clean_all:function(t){t.resultMenu=[]},search_Handler:function(t,e){t.searchStore=e}},actions:{getdata:function(t){var e=t.commit;lt.a.get("https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json").then((function(t){e("set_data",t.data.features)})).catch((function(t){console.log(t.message)}))}},modules:{}});n["a"].component("l-map",pt["a"]),n["a"].component("l-tile-layer",dt["a"]),n["a"].component("l-marker",mt["a"]),n["a"].component("l-popup",ft["a"]),n["a"].component("l-icon",vt["a"]),delete gt["Icon"].Default.prototype._getIconUrl,gt["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")}),n["a"].component("v-marker-cluster",_t.a),n["a"].use(ut.a,lt.a),n["a"].config.productionTip=!1,new n["a"]({router:ot,store:Ct,render:function(t){return t(v)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"82c6":function(t,e,a){"use strict";var n=a("2682"),r=a.n(n);r.a},"8abd":function(t,e,a){"use strict";var n=a("a1b5"),r=a.n(n);r.a},"8b8a":function(t,e,a){"use strict";var n=a("cf93"),r=a.n(n);r.a},"9c0c":function(t,e,a){},a1b5:function(t,e,a){},bd50:function(t,e,a){"use strict";var n=a("0299"),r=a.n(n);r.a},c46b:function(t,e,a){},cf93:function(t,e,a){},e754:function(t,e,a){"use strict";var n=a("4459"),r=a.n(n);r.a}});
//# sourceMappingURL=app.c6da6a9c.js.map