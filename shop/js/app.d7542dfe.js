(function(t){function a(a){for(var s,n,o=a[0],c=a[1],l=a[2],u=0,m=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(a);while(m.length)m.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,o=1;o<e.length;o++){var c=e[o];0!==i[c]&&(s=!1)}s&&(r.splice(a--,1),t=n(n.s=e[0]))}return t}var s={},i={app:0},r=[];function n(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(e,s,function(a){return t[a]}.bind(null,s));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="https://JohnSmith-Wang.github.io/shop/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var l=0;l<o.length;l++)a(o[l]);var d=c;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"04c5":function(t,a,e){"use strict";var s=e("a3b2"),i=e.n(s);i.a},"0895":function(t,a,e){"use strict";var s=e("df8b"),i=e.n(s);i.a},"0ceb":function(t,a,e){"use strict";var s=e("963e"),i=e.n(s);i.a},1049:function(t,a,e){},"266f":function(t,a,e){},"2cbd":function(t,a,e){"use strict";var s=e("1049"),i=e.n(s);i.a},"389d":function(t,a,e){"use strict";var s=e("6fa7"),i=e.n(s);i.a},4106:function(t,a,e){},"46a2":function(t,a,e){},"4a2f":function(t,a,e){"use strict";var s=e("b1d9"),i=e.n(s);i.a},5108:function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);e("4de4"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Alert"),e("router-view")],1)},r=[],n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},o=[],c=(e("4160"),e("a434"),e("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(e,s){e.timestamp===t&&a.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)}))}}),l=c,d=(e("4a2f"),e("2877")),u=Object(d["a"])(l,n,o,!1,null,null,null),m=u.exports,p={data:function(){return{}},components:{Alert:m}},v=p,_=(e("5c0b"),Object(d["a"])(v,i,r,!1,null,null,null)),f=_.exports,h=e("8c4f"),g=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"container-fluid bg-light py-2"},[e("div",{staticClass:"col-12 col-xl-6"},[e("h4",{staticClass:"text-danger"},[e("strong",[t._v("★ 使用前需注意")])]),e("ul",[e("li",[t._v("此網站僅供練習、學術使用，切勿用於商業行為")]),e("li",[t._v("此網站僅為作品展示、測試，"),e("strong",{staticClass:"text-danger"},[t._v("不會進行任何金流活動")])]),e("li",[t._v("此網站因資料保密考量，暫時不提供後台系統登入，可蒞臨我的履歷介紹頁，有提供後台操作時的圖片")]),e("li",[t._v("目前購物車串接的API為使用預設使用者的帳號，因此購物車為有可能留有上一位拜訪者的操作紀錄")])])]),e("div",{staticClass:"col-12 col-xl-6"},[e("h4",[t._v("★ 功能簡述")]),e("ul",[e("li",[t._v("Home 頁面為基本網站介紹")]),e("li",[t._v("Products 頁面為購物頁面")]),e("li",[t._v("於購物頁面，使用者可以點選「查看更多」查看商品詳情")]),e("li",[t._v("於購物頁面，按下放入購物車，會將商品暫時放在購物車內，購物車的Icon會亮起使用者放入的商品樣數")]),e("li",[t._v("填寫使用者的資料時，會進行資料驗證，驗證通過後，才能進入付款畫面"),e("span",{staticClass:"text-danger"},[t._v("(切勿留下機敏資訊，謝謝)")])]),e("li",[t._v("可以輸入優惠碼，會進行折扣運算(測試優惠碼: TEST)")]),e("li",[t._v("進入付款畫面後，使用者可以直接點選「付款」，該動作僅送出測試資料，不會進行任何金流活動，或是收取使用者的現金")])])]),e("div",{staticClass:"col-12 col-xl-6"},[e("h4",[t._v("★ 更新履歷")]),e("ul",[e("li",[t._v("09/01 初次建立")]),e("li",[t._v("10/01 重製網站")]),e("li",[t._v("10/30 上架至Github page")])])])])}],b=(e("5e2f"),{}),y=Object(d["a"])(b,g,C,!1,null,"0af7409a",null),x=y.exports,$=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid bg-light px-0"},[e("Navbar"),e("main",[e("div",[e("router-view")],1)]),t._m(0),e("div",[e("CartModal")],1)],1)},w=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("footer",{staticClass:"text-center text-light p-2 mt-4"},[e("h5",[t._v("Media Station")]),e("p",{staticClass:"copyright m-0"},[t._v("Copyright© 2020 by John")]),e("div",{staticClass:"link-bar"},[e("a",{staticClass:"icon",attrs:{href:"https://github.com/JohnSmith-Wang/",target:"_blank"}},[e("i",{staticClass:"text-light fab fa-github-square"})]),e("a",{staticClass:"icon",attrs:{href:"mailto:jou3698@gmail.com"}},[e("i",{staticClass:"text-light far fa-envelope"})])]),e("p",[t._v("此網站僅為學習使用，切勿使用於商業用途")])])}],N=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-light fixed-top sticky-top"},[e("div",{staticClass:"container-fluid"},[e("span",{staticClass:"navbar-brand"},[t._v("Meida Station")]),t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"collapseNavbar"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item link-Style",on:{click:t.closeNavbar}},[e("router-link",{staticClass:"nav-link",attrs:{to:"/",exact:""}},[t._v("About")])],1),e("li",{staticClass:"nav-item link-Style",on:{click:t.closeNavbar}},[e("router-link",{staticClass:"nav-link",attrs:{to:"/main",exact:""}},[t._v("Home")])],1),e("li",{staticClass:"nav-item link-Style",on:{click:t.closeNavbar}},[e("router-link",{staticClass:"nav-link",attrs:{to:"/store",exact:""}},[t._v("Products")])],1)]),e("form",{staticClass:"userbar form-inline my-3 my-lg-0"},[e("router-link",{staticClass:"mx-2",attrs:{to:"/login"}},[e("i",{staticClass:"text-muted icon far fa-user-circle"})]),e("a",{staticClass:"mx-2",on:{click:t.openCartModal}},[e("i",{staticClass:"icon text-muted fas fa-shopping-cart"},[t.cart_counter>0?e("span",{staticClass:"counter-circle"},[t._v(" "+t._s(t.cart_counter)+" ")]):t._e()])])],1)])])])},P=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseNavbar"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],k=e("1157"),E=e.n(k),O={data:function(){return{}},methods:{openCartModal:function(){E()("#customerCartModal").modal("show")},closeNavbar:function(){E()("#collapseNavbar").collapse("hide")}},computed:{cart_counter:function(){var t=this.$store.getters["CART_MENU"];return t.carts.length}}},I=O,T=(e("afb0"),Object(d["a"])(I,N,P,!1,null,"66a1ef92",null)),L=T.exports,M=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"customerCartModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content border-0"},[t._m(0),e("div",{staticClass:"modal-body"},[0!==t.cart_menu.carts.length?e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"my-4 buyList"},[e("table",{staticClass:"table overFlowTable"},[t._m(1),e("tbody",[t._l(t.cart_menu.carts,(function(a){return e("tr",{key:a.id},[e("td",[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeItem(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),e("td",[t._v(" "+t._s(a.product.title)+" "),a.coupon?e("div",{staticClass:"text-success"},[t._v(" 已經套用優惠券 ")]):t._e()]),e("td",[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",[t._v(t._s(t._f("currency")(a.total)))])])})),e("tr",[e("td"),t._m(2),t.cart_menu.final_total!==t.cart_menu.total?e("td",{staticClass:"text-right"},[e("h5",[e("del",[t._v(t._s(t._f("currency")(t.cart_menu.total)))])])]):e("td",{staticClass:"text-right"},[e("h5",[t._v(t._s(t._f("currency")(t.cart_menu.total)))])])]),t.cart_menu.final_total!==t.cart_menu.total?e("tr",{staticClass:"text-success"},[e("td"),t._m(3),e("td",{staticClass:"text-right"},[e("h5",[t._v(t._s(t._f("currency")(t.cart_menu.final_total)))])])]):t._e()],2)])]),e("div",{staticClass:"input-group mb-3 input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.couponCode},on:{input:function(a){a.target.composing||(t.couponCode=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.sendCouponCode}},[t._v(" 套用優惠碼 ")])])])])]):t._e(),0!==t.cart_menu.carts.length?e("div",{staticClass:"row justify-content-center my-5 "},[e("form",{staticClass:"col-md-10"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("E-mail")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",id:"useremail",name:"email",placeholder:"請輸入Email",required:""},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),t.errors.has("email")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",id:"username",name:"name",placeholder:"請輸入姓名",required:""},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),t.errors.has("name")?e("span",{staticClass:"text-danger"},[t._v("姓名必須輸入")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required|regex:^[0-9]+",expression:"'required|regex:^[0-9]+'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"text",id:"usertel",name:"tel",placeholder:"請輸入電話",required:""},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),t.errors.has("tel")?e("span",{staticClass:"text-danger"},[t._v("電話必須輸入(只能輸入數字)")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"text",id:"useraddress",name:"address",placeholder:"請輸入地址",required:""},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t.errors.has("address")?e("span",{staticClass:"text-danger"},[t._v("請輸入地址")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usermessage"}},[t._v("留言")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{type:"textarea",id:"usermessage",name:"message"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})])])]):e("div",[t._v(" 目前購物車內沒有資料 ")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")]),e("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.submitOrder(a)}}},[t._v("前往結帳確認頁面")])])])])])},j=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title"},[t._v("購物車內容")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"text-light",attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"10"}}),e("th",{staticClass:"text-danger",attrs:{width:"200"}},[t._v("品名")]),e("th",{staticClass:"text-danger",attrs:{width:"120"}},[t._v("數量")]),e("th",{staticClass:"text-danger",attrs:{width:"40"}},[t._v("單價")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[e("h5",[t._v("總計")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[e("h5",[t._v("折扣價")])])}],S=(e("99af"),{data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},couponCode:""}},methods:{getCartData:function(){this.$store.dispatch("init_cart_data")},removeItem:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/cart/").concat(t);this.$http.delete(e).then((function(t){t.data.success?a.getCartData():a.$bus.$emit("message:push",t.data.message,"danger")}))},sendCouponCode:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/coupon"),e={code:this.couponCode};this.$http.post(a,{data:e}).then((function(a){a.data.success?(t.$bus.$emit("message:push",a.data.message,"success"),t.getCartData(),t.couponCode=""):t.$bus.$emit("message:push",a.data.message,"danger")}))},submitOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/order"),e=this.form;this.$validator.validate().then((function(s){s&&t.$http.post(a,{data:e}).then((function(a){a.data.success?(t.$router.push("/order_check/".concat(a.data.orderId)),t.getCartData()):t.$bus.$emit("message:push",a.data.message,"danger"),E()("#customerCartModal").modal("hide")}))}))}},created:function(){this.getCartData()},computed:{cart_menu:function(){return this.$store.getters["CART_MENU"]}}}),D=S,A=(e("6eac"),Object(d["a"])(D,M,j,!1,null,"7a81a187",null)),U=A.exports,q={data:function(){return{}},components:{Navbar:L,CartModal:U}},H=q,R=(e("8ec1"),Object(d["a"])(H,$,w,!1,null,"370149aa",null)),J=R.exports,G=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid px-0"},[e("div",{staticClass:"my-2 mx-auto"},[e("Carousel")],1),e("div",{staticClass:"my-2 mx-auto"},[e("Brick")],1),e("div",[e("CartBtn")],1)])},F=[],B=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"carousel slide",attrs:{id:"ProductCarousel","data-ride":"carousel"}},[t._m(0),e("div",{staticClass:"carousel-inner"},[e("div",{staticClass:"carousel-item active"},[e("img",{staticClass:"bg-music",attrs:{src:t.music}}),e("img",{staticClass:"bg-music-rwd",attrs:{src:t.music_rwd}}),t._m(1)]),e("div",{staticClass:"carousel-item"},[e("img",{staticClass:"bg-movie",attrs:{src:t.movie}}),e("img",{staticClass:"bg-movie-rwd",attrs:{src:t.movie_rwd}}),t._m(2)]),e("div",{staticClass:"carousel-item"},[e("img",{staticClass:"bg-game",attrs:{src:t.game}}),e("img",{staticClass:"bg-game-rwd",attrs:{src:t.game_rwd}}),t._m(3)])]),t._m(4),t._m(5)])},z=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ol",{staticClass:"carousel-indicators"},[e("li",{staticClass:"active",attrs:{"data-target":"#ProductCarousel","data-slide-to":"0"}}),e("li",{attrs:{"data-target":"#ProductCarousel","data-slide-to":"1"}}),e("li",{attrs:{"data-target":"#ProductCarousel","data-slide-to":"2"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"carousel-caption text-left"},[e("h1",[t._v("No Music No Life")]),e("h5",[t._v("找不到知心? 為自己找個知音吧")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"carousel-caption text-left"},[e("h1",[t._v("No Movie No Think")]),e("h5",[t._v("一部電影，一個思想，打包回去細細品嚐")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"carousel-caption text-left"},[e("h1",[t._v("No Game No Dream")]),e("h5",[t._v("懦夫，在遊戲中大膽作夢也會怕")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"carousel-control-prev",attrs:{href:"#ProductCarousel",role:"button","data-slide":"prev"}},[e("span",{staticClass:"icon text-dark fas fa-chevron-left",attrs:{"aria-hidden":"true"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"carousel-control-next",attrs:{href:"#ProductCarousel",role:"button","data-slide":"next"}},[e("span",{staticClass:"icon text-dark fas fa-chevron-right",attrs:{"aria-hidden":"true"}})])}],W={data:function(){return{music:"./img/music.jpg",game:"./img/game.jpg",movie:"./img/movie.jpg",music_rwd:"./img/music_rwd.jpg",game_rwd:"./img/game_rwd.jpg",movie_rwd:"./img/movie_rwd.jpg"}}},Q=W,K=(e("0895"),Object(d["a"])(Q,B,z,!1,null,"46d25354",null)),V=K.exports,X=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"row my-2"},[e("div",{staticClass:"my-2 col-12 col-xl-5"},[e("img",{staticClass:"img-fluid",attrs:{src:t.mask}})]),t._m(0)]),e("div",{staticClass:"row my-2"},[e("div",{staticClass:"my-2 col-12 col-xl-5 order-xl-12"},[e("img",{staticClass:"img-fluid",attrs:{src:t.heart}})]),t._m(1)]),e("div",{staticClass:"row my-2"},[e("div",{staticClass:"my-2 col-12 col-xl-5"},[e("img",{staticClass:"img-fluid",attrs:{src:t.city}})]),t._m(2)])])},Y=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-2 col-12 col-xl-7"},[e("h1",{staticClass:"my-4"},[t._v("人間失格"),e("i",{staticClass:"icon fas fa-film"})]),e("h5",{staticClass:"my-4"},[e("i",[t._v("「懦夫，連幸福都害怕，碰到棉花也會受傷」")])]),e("p",{staticClass:"my-4"},[t._v("改編日本作家 太宰治 的經典文學作品《人間失格》一書而成的電影，透過主角 大庭葉藏，來品味太宰治半自傳式的故事，洞悉生為「人」內心的弱點。")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-2 col-12 col-xl-7 order-xl-1"},[e("h1",{staticClass:"my-4"},[t._v("M is S"),e("i",{staticClass:"icon fas fa-music"})]),e("h5",{staticClass:"my-4"},[e("i",[t._v("「是思念，還是勒索?」")])]),e("p",{staticClass:"my-4"},[t._v("知名歌手 Miki 的最新專輯，以自身的經驗傾心創作，帶給粉絲們一場從失去到放下，走出失戀傷痛的旅程。")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-2 col-12 col-xl-7"},[e("h1",{staticClass:"my-4"},[t._v("城市英雄"),e("i",{staticClass:"icon fas fa-gamepad"})]),e("h5",{staticClass:"my-4"},[e("i",[t._v("「你的郭親睦鄰好夥伴!」")])]),e("p",{staticClass:"my-4"},[t._v("以城市跑酷為主題的動作遊戲，化身為「城市英雄」穿梭在高樓大廈之間，協助警察打擊犯罪、拯救樹上的小貓咪、幫助老太太過馬路。")])])}],Z={data:function(){return{mask:"./img/mask.jpg",heart:"./img/heart.jpg",city:"./img/city.jpg"}}},tt=Z,at=(e("5799"),Object(d["a"])(tt,X,Y,!1,null,"577aad1e",null)),et=at.exports,st=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cart-div",on:{click:t.openCartModal}},[t._m(0),t.cart_counter>0?e("div",{staticClass:"text-light bg-danger cart-counter"},[t._v(" "+t._s(t.cart_counter)+" ")]):t._e()])},it=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"cart-btn btn-primary",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-shopping-cart"})])}],rt={data:function(){return{}},methods:{openCartModal:function(){E()("#customerCartModal").modal("show")}},computed:{cart_counter:function(){var t=this.$store.getters["CART_MENU"];return t.carts.length}}},nt=rt,ot=(e("389d"),Object(d["a"])(nt,st,it,!1,null,"1cc52a8b",null)),ct=ot.exports,lt={data:function(){return{}},components:{Carousel:V,Brick:et,CartBtn:ct}},dt=lt,ut=Object(d["a"])(dt,G,F,!1,null,null,null),mt=ut.exports,pt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",[e("loading",{attrs:{active:t.isLoading_status},on:{"update:active":function(a){t.isLoading_status=a}}})],1),e("div",{staticClass:"my-3 mx-auto"},[e("div",{staticClass:"my-2 mx-auto"},[e("ProductsList",{attrs:{products_menu:t.products_menu,status:t.status},on:{infoHandler:t.infoHandler,addToCartHandler:t.addToCartHandler}})],1),e("div",[e("InfoModal",{attrs:{productInfo_menu:t.productInfo_menu},on:{addToCartHandler:t.addToCartHandler}})],1),e("div",{staticClass:"my-2 mx-auto"},[e("Pagination",{attrs:{pagination_menu:t.pagination_menu},on:{pageChange:t.getStoreList}})],1),e("div",[e("CartBtn")],1)])])},vt=[],_t=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link normalStyle",class:{noneStyle:!t.pagination_menu.has_pre},on:{click:function(a){return a.preventDefault(),t.pageChange(t.pagination_menu.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination_menu.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item"},[e("a",{staticClass:"page-link normalStyle",class:{selStyle:t.pagination_menu.current_page==a},on:{click:function(e){return e.preventDefault(),t.pageChange(a)}}},[t._v(" "+t._s(a)+" ")])])})),e("li",{staticClass:"page-item",class:{noneStyle:!t.pagination_menu.has_next}},[e("a",{staticClass:"page-link normalStyle",on:{click:function(a){return a.preventDefault(),t.pageChange(t.pagination_menu.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},ft=[],ht=(e("a9e3"),{data:function(){return{}},props:{pagination_menu:{type:Object,required:!0}},methods:{pageChange:function(t){this.pagination_menu.current_page!==Number(t)&&this.$emit("pageChange",Number(t))}}}),gt=ht,Ct=(e("e946"),Object(d["a"])(gt,_t,ft,!1,null,"27b1ea7e",null)),bt=Ct.exports,yt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"infoModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content border-0"},[e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.productInfo_menu.title))]),t._m(0)]),e("div",{staticClass:"modal-body"},[e("img",{staticClass:"productImg",attrs:{src:t.productInfo_menu.imageUrl}}),e("blockquote",{staticClass:"blockquote mt-3"},[e("p",[t._v(t._s(t.productInfo_menu.content))]),e("footer",{staticClass:"blockquote-footer text-right"},[t._v(t._s(t.productInfo_menu.description))])]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.productInfo_menu.price?t._e():e("div",{staticClass:"h4"},[t._v(t._s(t._f("currency")(t.productInfo_menu.origin_price))+" 元")]),t.productInfo_menu.price?e("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(t.productInfo_menu.origin_price*t.productNum))+" 元")]):t._e(),t.productInfo_menu.price?e("div",{staticClass:"h4"},[t._v("特價 "+t._s(t._f("currency")(t.productInfo_menu.price*t.productNum))+" 元")]):t._e()]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.productNum,expression:"productNum"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.productNum=a.target.multiple?e:e[0]}}},t._l(10,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" 選購 "+t._s(a)+" "+t._s(t.productInfo_menu.unit)+" ")])})),0)]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")]),e("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(a){return t.addToCart(t.productInfo_menu.id,t.productNum)}}},[t._v("確定")])])])])])},xt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"text-light",attrs:{"aria-hidden":"true"}},[t._v("×")])])}],$t={data:function(){return{productNum:1}},props:{productInfo_menu:{type:Object,require:!0}},methods:{addToCart:function(t,a){var e=this;this.$emit("addToCartHandler",t,a),window.setTimeout((function(){e.productNum=1}),1e3)}}},wt=$t,Nt=(e("65f4"),Object(d["a"])(wt,yt,xt,!1,null,"44af21cb",null)),Pt=Nt.exports,kt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},t._l(t.filter_products_menu,(function(a){return e("div",{key:a.id,staticClass:"col-12 col-md-6 col-xl-5 my-3 mx-auto"},[e("div",{staticClass:"card border-0 shadow-sm"},[e("div",{staticClass:"product-img",style:{backgroundImage:"url("+a.imageUrl+")"}}),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(a.category))]),e("h3",{staticClass:"card-title"},[e("span",{staticClass:"text-dark"},[t._v(t._s(a.title))])]),e("p",{staticClass:"card-text"},[t._v(t._s(t._f("textFilter")(a.content)))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e("del",{staticClass:"h6"},[t._v(t._s(t._f("currency")(a.origin_price)))]),e("div",{staticClass:"h3 text-danger"},[t._v(t._s(t._f("currency")(a.price)))])])]),e("div",{staticClass:"card-footer bg-dark d-flex"},[e("button",{staticClass:"btn-font-size btn btn-info btn-md",attrs:{type:"button"},on:{click:function(e){return t.openInfoModal(a)}}},[t.status.infoLoading===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 查看更多 ")]),e("button",{staticClass:"btn-font-size btn btn-danger btn-md ml-auto",attrs:{type:"button"},on:{click:function(e){return t.addToCart(a.id)}}},[t.status.buyLoading===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 放入購物車 ")])])])])})),0)},Et=[],Ot={data:function(){return{filter_products_menu:[]}},props:{products_menu:{type:Array,required:!0},status:{type:Object,required:!0}},methods:{openInfoModal:function(t){this.$emit("infoHandler",t.id)},addToCart:function(t){this.$emit("addToCartHandler",t)}},watch:{products_menu:function(t){var a=this;this.filter_products_menu=[],t.forEach((function(t){t.is_enabled&&a.filter_products_menu.push(t)}))}}},It=Ot,Tt=(e("60bd"),Object(d["a"])(It,kt,Et,!1,null,"a8df8098",null)),Lt=Tt.exports,Mt={data:function(){return{status:{infoLoading:"",buyLoading:""}}},components:{Pagination:bt,ProductsList:Lt,InfoModal:Pt,CartBtn:ct},methods:{getStoreList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("init_store_list",t)},getProductInfo:function(t){this.$store.dispatch("init_product_info",t)},getCartData:function(){this.$store.dispatch("init_cart_data")},infoHandler:function(t){var a=this;this.status.infoLoading=t,this.getProductInfo(t),window.setTimeout((function(){a.status.infoLoading="",E()("#infoModal").modal("show")}),500)},addToCartHandler:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/cart"),i={product_id:t,qty:e};this.status.buyLoading=t,this.$http.post(s,{data:i}).then((function(t){a.status.buyLoading="",t.data.success?a.$bus.$emit("message:push",t.data.message,"success"):a.$bus.$emit("message:push",t.data.message,"danger"),E()("#infoModal").modal("hide"),a.getCartData()}))}},created:function(){this.getStoreList()},computed:{products_menu:function(){return this.$store.getters["STORE_LIST_MENU"]},pagination_menu:function(){return this.$store.getters["STORE_PAGINATION_MENU"]},productInfo_menu:function(){return this.$store.getters["PRODUCT_INFO_MENU"]},isLoading_status:function(){return this.$store.getters["LOADING_STATUS"]}}},jt=Mt,St=Object(d["a"])(jt,pt,vt,!1,null,null,null),Dt=St.exports,At=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"contaier"},[e("div",{staticClass:"my-4 mx-auto"},[t._m(0),e("div",{staticClass:"my-4 mx-auto col-12 col-md-8"},[e("div",{staticClass:"my-4 buyList"},[e("table",{staticClass:"table overFlowTable"},[t._m(1),e("tbody",[t._l(t.orderData.order.products,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.product.title))]),e("td",[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])})),e("tr",[t._m(2),e("td",{staticClass:"text-right"},[e("h5",[t._v(t._s(t._f("currency")(t.orderData.order.total)))])])])],2)])]),e("div",{staticClass:"my-4 infoList"},[e("table",{staticClass:"table overFlowTable"},[e("tbody",[e("tr",[t._m(3),e("td",[t._v(t._s(t.orderData.order.user.email))])]),e("tr",[t._m(4),e("td",[t._v(t._s(t.orderData.order.user.name))])]),e("tr",[t._m(5),e("td",[t._v(t._s(t.orderData.order.user.tel))])]),e("tr",[t._m(6),e("td",[t._v(t._s(t.orderData.order.user.address))])]),e("tr",[t._m(7),t.orderData.order.is_paid?e("td",{staticClass:"text-success"},[e("strong",[t._v("付款完成")])]):e("td",{staticClass:"text-danger"},[t._v("尚未付款")])])])])]),!1===t.orderData.order.is_paid?e("div",{staticClass:"my-4 mx-auto text-right"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"submit"},on:{click:function(a){return a.preventDefault(),t.payIt(a)}}},[t._v("確認付款(僅功能測試)")])]):t._e()])])])},Ut=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-8 my-6 mx-auto p-6 text-center alert alert-danger"},[t._v(" 此為付款測試頁面，"),e("strong",[t._v("不會進行任何金流活動")]),t._v("，僅會送出一個假資料進行驗證與測試 ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{staticClass:"text-danger",attrs:{width:"300"}},[t._v("品名")]),e("th",{staticClass:"text-danger",attrs:{width:"200"}},[t._v("數量")]),e("th",{staticClass:"text-danger",attrs:{width:"100"}},[t._v("單價")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[e("h5",[t._v("總計")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{attrs:{width:"120"}},[e("b",[t._v("Email")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{attrs:{width:"120"}},[e("b",[t._v("姓名")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{attrs:{width:"120"}},[e("b",[t._v("收件人電話")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{attrs:{width:"120"}},[e("b",[t._v("收件人地址")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{attrs:{width:"120"}},[e("b",[t._v("付款狀態")])])}],qt={data:function(){return{orderId:"",orderData:{order:{user:{}}}}},methods:{getOrderCheck:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/order/").concat(this.orderId);this.$http.get(a).then((function(a){a.data.success?t.orderData=a.data:t.$bus.$emit("message:push",a.data.message,"danger")}))},payIt:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/pay/").concat(this.orderId);this.$http.post(a).then((function(a){a.data.success?(t.$bus.$emit("message:push",a.data.message,"success"),t.getOrderCheck()):t.$bus.$emit("message:push",a.data.message,"danger")}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrderCheck()}},Ht=qt,Rt=(e("dde9"),Object(d["a"])(Ht,At,Ut,!1,null,"7c500964",null)),Jt=Rt.exports,Gt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("form",{staticClass:"form-signin"},[e("i",{staticClass:"icon far fa-user"}),e("h3",{staticClass:"title"},[t._v("後台系統登入")]),e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("電子信箱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),e("button",{staticClass:"btn btn-lg btn-dark btn-block",attrs:{type:"button"},on:{click:t.login}},[t._v("登入")]),e("p",{staticClass:"copyright text-muted"},[t._v("© 2017-2020")])])])},Ft=[],Bt={data:function(){return{user:{username:"",password:""},isLoading:!1}},methods:{login:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/admin/signin");this.$http.post(a,this.user).then((function(a){a.data.success?(t.$bus.$emit("message:push",a.data.message,"success"),t.$router.push("/admin/products")):t.$bus.$emit("message:push",a.data.message,"danger")}))}}},zt=Bt,Wt=(e("aa88"),Object(d["a"])(zt,Gt,Ft,!1,null,"3cfdbbea",null)),Qt=Wt.exports,Kt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid px-0"},[e("Navbar"),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("Sidebar"),e("div",{staticClass:"col-md-9 col-lg-10 px-md-4 ml-sm-auto"},[e("router-view")],1)],1)])],1)},Vt=[],Xt=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},Yt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow"},[e("span",{staticClass:"navbar-brand col-md-3 col-lg-2 mr-0 px-3"},[t._v("後台管理介面")]),e("button",{staticClass:"navbar-toggler position-absolute d-md-none collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#sidebarMenu"}},[e("span",{staticClass:"navbar-toggler-icon"})])])}],Zt=(e("dec5"),{}),ta=Object(d["a"])(Zt,Xt,Yt,!1,null,"0bf1116a",null),aa=ta.exports,ea=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",attrs:{id:"sidebarMenu"}},[e("div",{staticClass:"sidebar-sticky pt-3"},[e("ul",{staticClass:"nav flex-column"},[e("li",{staticClass:"nav-item",on:{click:t.closeModal}},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[e("i",{staticClass:"icon fas fa-box-open"}),t._v(" 產品管理 ")])],1),e("li",{staticClass:"nav-item",on:{click:t.closeModal}},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orderlist"}},[e("i",{staticClass:"icon far fa-list-alt"}),t._v(" 訂單管理 ")])],1),e("li",{staticClass:"nav-item",on:{click:t.closeModal}},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupon"}},[e("i",{staticClass:"icon fas fa-ticket-alt"}),t._v(" 優惠券管理 ")])],1),e("li",{staticClass:"nav-item",on:{click:t.closeModal}},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/store"}},[e("i",{staticClass:"icon fas fa-shopping-cart"}),t._v(" 模擬訂單 ")])],1),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"signout-btn nav-link",on:{click:t.signout}},[e("i",{staticClass:"icon fas fa-sign-in-alt"}),t._v(" 登出 ")])])])])])},sa=[],ia={data:function(){return{}},methods:{signout:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/logout");this.$http.post(a).then((function(a){a.data.success?(t.$bus.$emit("message:push",a.data.message,"success"),t.$router.push("/")):t.$bus.$emit("message:push",a.data.message,"danger")}))},closeModal:function(){E()("#sidebarMenu").collapse("hide")}}},ra=ia,na=(e("5b3c"),Object(d["a"])(ra,ea,sa,!1,null,"d84adb5a",null)),oa=na.exports,ca={data:function(){return{}},components:{Navbar:aa,Sidebar:oa}},la=ca,da=Object(d["a"])(la,Kt,Vt,!1,null,null,null),ua=da.exports,ma=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid px-0"},[e("div",[e("loading",{attrs:{active:t.isLoading_status},on:{"update:active":function(a){t.isLoading_status=a}}})],1),e("div",{staticClass:"my-4 mx-auto"},[t._m(0),e("div",{staticClass:"my-4 mx-auto col-12 text-right"},[e("button",{staticClass:"btn btn-dark",attrs:{"data-toggle":"modal","data-target":"#addProductModal"},on:{click:t.newProduct}},[t._v(" 新增產品 ")])]),e("div",{staticClass:"my-4 mx-auto col-12"},[e("ProductsList",{attrs:{products_menu:t.products_menu},on:{changeHandler:t.editProduct}})],1),e("div",{staticClass:"my-4 mx-auto"},[e("AddProduct",{attrs:{tempEdit:t.tempProduct,isNew:t.isNew},on:{completeUpdate:t.completeUpdate}}),e("DelProduct",{attrs:{tempProduct:t.tempProduct},on:{completeUpdate:t.completeUpdate}})],1),e("div",{staticClass:"my-4 mx-auto col-12"},[e("Pagination",{attrs:{pagination_menu:t.pagination_menu},on:{pageChange:t.getProductList}})],1)])])},pa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center m-4"},[e("h3",[t._v("產品管理")])])}],va=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("table",{staticClass:"table rwdTable"},[t._m(0),e("tbody",t._l(t.products_menu,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"rwdTitle",attrs:{scope:"col","data-title":"分類"}},[t._v(t._s(a.category))]),e("td",{staticClass:"rwdTitle",attrs:{scope:"col","data-title":"商品名稱"}},[t._v(t._s(a.title))]),e("td",{staticClass:"rwdTitle",attrs:{scope:"col","data-title":"原價"}},[t._v(t._s(t._f("currency")(a.origin_price)))]),e("td",{staticClass:"rwdTitle",attrs:{scope:"col","data-title":"售價"}},[t._v(t._s(t._f("currency")(a.price)))]),e("td",{staticClass:"rwdTitle",attrs:{scope:"col","data-title":"啟用狀態"}},[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",[t._v("未啟用")])]),e("td",{staticClass:"rwdTitle",attrs:{scope:"col","data-title":"編輯"}},[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.editHandler(a)}}},[t._v("編輯")]),e("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){return t.delHandler(a)}}},[t._v("刪除")])])])])})),0)])])},_a=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"120"}},[t._v("分類")]),e("th",[t._v("商品名稱")]),e("th",{attrs:{width:"120"}},[t._v("原價")]),e("th",{attrs:{width:"120"}},[t._v("售價")]),e("th",{attrs:{width:"100"}},[t._v("啟用狀態")]),e("th",{attrs:{width:"120"}},[t._v("編輯")])])}],fa={data:function(){return{}},props:{products_menu:{type:Array,required:!0}},methods:{editHandler:function(t){E()("#addProductModal").modal("show"),this.$emit("changeHandler",t)},delHandler:function(t){E()("#delProductModal").modal("show"),this.$emit("changeHandler",t)}}},ha=fa,ga=(e("e6ce"),Object(d["a"])(ha,va,_a,!1,null,"2d107470",null)),Ca=ga.exports,ba=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"addProductModal","data-backdrop":"static",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content border-0"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-lg-4 col-xl-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"imageUrl",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片 "),t.status.fileUploading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadImg}})]),e("img",{staticClass:"img-fluid",attrs:{img:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80",alt:"",src:t.tempProduct.imageUrl}})]),e("div",{staticClass:"col-12 col-lg-8 col-xl-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"title",a.target.value)}}})]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("分類")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{id:"category",type:"text",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"category",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("單位")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{id:"unit",type:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"unit",a.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{id:"origin_price",type:"number",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"origin_price",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{id:"price",type:"number",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"price",a.target.value)}}})])]),e("hr"),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("商品描述")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{id:"description",type:"text",placeholder:"請輸入商品描述"},domProps:{value:t.tempProduct.description},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"description",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("商品內容")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{id:"content",type:"text",placeholder:"請輸入商品內容"},domProps:{value:t.tempProduct.content},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"content",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{id:"is_enabled",type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(a){var e=t.tempProduct.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var r=null,n=t._i(e,r);s.checked?n<0&&t.$set(t.tempProduct,"is_enabled",e.concat([r])):n>-1&&t.$set(t.tempProduct,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.tempProduct,"is_enabled",i)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")]),e("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:t.submitData}},[t._v("確定")])])])])])},ya=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title"},[t._v("新增產品")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"text-light",attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],xa={data:function(){return{tempProduct:{},status:{fileUploading:!1}}},props:{tempEdit:{type:Object,required:!0},isNew:{type:Boolean,required:!0}},methods:{uploadImg:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/admin/upload"),e=this.$refs.files.files[0],s=new FormData;s.append("file-to-upload",e),this.status.fileUploading=!0,this.$http.post(a,s,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){a.data.success?(t.status.fileUploading=!1,t.$set(t.tempProduct,"imageUrl",a.data.imageUrl)):t.$bus.$emit("message:push",a.data.message,"danger")}))},submitData:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/admin/product"),e="post";this.isNew||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/admin/product/").concat(this.tempProduct.id),e="put"),this.$http[e](a,{data:this.tempProduct}).then((function(a){a.data.success?t.$bus.$emit("message:push",a.data.message,"success"):t.$bus.$emit("message:push",a.data.message,"danger"),t.$emit("completeUpdate"),E()("#addProductModal").modal("hide")}))}},watch:{tempEdit:function(){this.tempProduct=Object.assign({},this.tempEdit)}}},$a=xa,wa=Object(d["a"])($a,ba,ya,!1,null,null,null),Na=wa.exports,Pa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content border-0"},[t._m(0),e("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。 ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.delData(t.tempProduct.id)}}},[t._v("確認")])])])])])},ka=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title"},[e("span",[t._v("刪除產品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"text-light",attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Ea={data:function(){return{}},props:{tempProduct:{type:Object,required:!0}},methods:{delData:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/admin/product/").concat(t);this.$http.delete(e).then((function(t){t.data.success?a.$bus.$emit("message:push",t.data.message,"success"):a.$bus.$emit("message:push",t.data.message,"danger"),a.$emit("completeUpdate"),E()("#delProductModal").modal("hide")}))}}},Oa=Ea,Ia=Object(d["a"])(Oa,Pa,ka,!1,null,null,null),Ta=Ia.exports,La={data:function(){return{tempProduct:{},isNew:!0}},components:{ProductsList:Ca,Pagination:bt,AddProduct:Na,DelProduct:Ta},methods:{getProductList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("init_products_list",t)},newProduct:function(){this.isNew=!0,this.tempProduct={}},editProduct:function(t){this.isNew=!1,this.tempProduct=t},completeUpdate:function(){this.tempProduct={},this.getProductList(this.pagination_menu.current_page)},loadingHandler:function(){this.isLoading=!this.isLoading}},created:function(){this.getProductList()},computed:{products_menu:function(){return this.$store.getters["PRODUCTS_LIST_MENU"]},pagination_menu:function(){return this.$store.getters["PRODUCTS_PAGINATION_MENU"]},isLoading_status:function(){return this.$store.getters["LOADING_STATUS"]}}},Ma=La,ja=Object(d["a"])(Ma,ma,pa,!1,null,null,null),Sa=ja.exports,Da=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid px-0"},[e("div",[e("loading",{attrs:{active:t.isLoading_status},on:{"update:active":function(a){t.isLoading_status=a}}})],1),e("div",{staticClass:"my-4 mx-auto"},[t._m(0),e("div",{staticClass:"my-4 mx-auto col-12 text-right"},[e("button",{staticClass:"btn btn-dark",attrs:{"data-toggle":"modal","data-target":"#addCouponModal"},on:{click:t.newCoupon}},[t._v(" 建立新的優惠券 ")])]),e("div",{staticClass:"my-4 mx-auto col-12"},[e("CouponsList",{attrs:{coupons_menu:t.coupons_menu},on:{changeHandler:t.editCoupon}})],1),e("div",{staticClass:"my-4 mx-auto"},[e("AddCoupon",{attrs:{tempEdit:t.tempCoupon,isNew:t.isNew},on:{completeUpdate:t.completeUpdate}}),e("DelCoupon",{attrs:{tempCoupon:t.tempCoupon},on:{completeUpdate:t.completeUpdate}})],1),e("div",{staticClass:"my-4 mx-auto col-12"},[e("Pagination",{attrs:{pagination_menu:t.pagination_menu},on:{pageChange:t.getCouponList}})],1)])])},Aa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center m-4"},[e("h3",[t._v("優惠券管理")])])}],Ua=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("table",{staticClass:"table rwdTable"},[t._m(0),e("tbody",t._l(t.coupons_menu,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"rwdTitle",attrs:{scope:"col","data-title":"名稱"}},[t._v(t._s(a.title))]),e("td",{staticClass:"rwdTitle",attrs:{scope:"col","data-title":"折扣百分比"}},[t._v(t._s(a.percent)+" %")]),e("td",{staticClass:"rwdTitle",attrs:{scope:"col","data-title":"到期日"}},[t._v(t._s(t._f("timeChanger")(a.due_date)))]),e("td",{staticClass:"rwdTitle",attrs:{scope:"col","data-title":"狀態"}},[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",[t._v("未啟用")])]),e("td",{staticClass:"rwdTitle",attrs:{scope:"col","data-title":"編輯"}},[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.editHandler(a)}}},[t._v("編輯")]),e("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){return t.delHandler(a)}}},[t._v("刪除")])])])])})),0)])])},qa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"120"}},[t._v("名稱")]),e("th",{attrs:{width:"60"}},[t._v("折扣百分比")]),e("th",{attrs:{width:"60"}},[t._v("到期日")]),e("th",{attrs:{width:"60"}},[t._v("狀態")]),e("th",{attrs:{width:"60"}},[t._v("編輯")])])}],Ha={data:function(){return{}},props:{coupons_menu:{type:Array,required:!0}},methods:{editHandler:function(t){E()("#addCouponModal").modal("show"),this.$emit("changeHandler",t)},delHandler:function(t){E()("#delCouponModal").modal("show"),this.$emit("changeHandler",t)}}},Ra=Ha,Ja=(e("04c5"),Object(d["a"])(Ra,Ua,qa,!1,null,"63b76e22",null)),Ga=Ja.exports,Fa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"addCouponModal","data-backdrop":"static",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content border-0"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempCoupon.title},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"code"}},[t._v("優惠碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{type:"text",id:"code",placeholder:"請輸入優惠碼"},domProps:{value:t.tempCoupon.code},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"code",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"due_date"}},[t._v("到期日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.due_date,expression:"due_date"}],staticClass:"form-control",attrs:{type:"date",id:"due_date",placeholder:"請輸入日期"},domProps:{value:t.due_date},on:{input:function(a){a.target.composing||(t.due_date=a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"percent"}},[t._v("折扣百分比")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control",attrs:{type:"number",id:"percent",placeholder:"請輸入折扣百分比",onkeyup:"value=value.replace(/[^\\d]/g,'') "},domProps:{value:t.tempCoupon.percent},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"percent",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{id:"is_enabled",type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(a){var e=t.tempCoupon.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var r=null,n=t._i(e,r);s.checked?n<0&&t.$set(t.tempCoupon,"is_enabled",e.concat([r])):n>-1&&t.$set(t.tempCoupon,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.tempCoupon,"is_enabled",i)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")]),e("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:t.submitData}},[t._v("確定")])])])])])},Ba=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title"},[t._v("新增優惠券")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"text-light",attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],za={data:function(){return{tempCoupon:{},due_date:new Date}},props:{tempEdit:{type:Object,required:!0},isNew:{type:Boolean,required:!0}},methods:{submitData:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/admin/coupon"),e="post";this.isNew||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/admin/coupon/").concat(this.tempCoupon.id),e="put"),this.$http[e](a,{data:this.tempCoupon}).then((function(a){a.data.success?t.$bus.$emit("message:push",a.data.message,"success"):t.$bus.$emit("message:push",a.data.message,"danger"),t.$emit("completeUpdate"),E()("#addCouponModal").modal("hide")}))}},watch:{tempEdit:function(){this.tempCoupon=Object.assign({},this.tempEdit)},due_date:function(t){var a=Math.floor(new Date(t)/1e3);this.tempCoupon.due_date=a}}},Wa=za,Qa=Object(d["a"])(Wa,Fa,Ba,!1,null,null,null),Ka=Qa.exports,Va=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"delCouponModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content border-0"},[t._m(0),e("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempCoupon.title))]),t._v("(刪除後將無法恢復)。 ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.delData(t.tempCoupon.id)}}},[t._v("確認")])])])])])},Xa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title"},[e("span",[t._v("刪除優惠券")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"text-light",attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Ya={data:function(){return{}},props:{tempCoupon:{type:Object,required:!0}},methods:{delData:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/admin/coupon/").concat(t);this.$http.delete(e).then((function(t){t.data.success?a.$bus.$emit("message:push",t.data.message,"success"):a.$bus.$emit("message:push",t.data.message,"danger"),a.$emit("completeUpdate"),E()("#delCouponModal").modal("hide")}))}}},Za=Ya,te=Object(d["a"])(Za,Va,Xa,!1,null,null,null),ae=te.exports,ee={data:function(){return{tempCoupon:{},isNew:!0}},components:{CouponsList:Ga,AddCoupon:Ka,DelCoupon:ae,Pagination:bt},methods:{getCouponList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("init_coupons_list",t)},newCoupon:function(){this.tempCoupon={},this.isNew=!0},editCoupon:function(t){this.tempCoupon=t,this.isNew=!1},completeUpdate:function(){this.tempCoupon={},this.getCouponList(this.pagination_menu.current_page)}},created:function(){this.getCouponList()},computed:{coupons_menu:function(){return this.$store.getters["COUPONS_LIST_MENU"]},pagination_menu:function(){return this.$store.getters["COUPONS_PAGINATION_MENU"]},isLoading_status:function(){return this.$store.getters["LOADING_STATUS"]}}},se=ee,ie=Object(d["a"])(se,Da,Aa,!1,null,null,null),re=ie.exports,ne=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid px-0"},[e("div",[e("loading",{attrs:{active:t.isLoading_status},on:{"update:active":function(a){t.isLoading_status=a}}})],1),e("div",{staticClass:"my-4 mx-auto"},[t._m(0),e("div",{staticClass:"my-4 mx-auto col-12"},[e("table",{staticClass:"table rwdTable"},[t._m(1),e("tbody",t._l(t.orders_menu,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"rwdTitle",attrs:{"data-title":"購買時間"}},[t._v(t._s(t._f("timeChanger")(a.create_at)))]),e("td",{staticClass:"rwdTitle",attrs:{"data-title":"E-Mail"}},[t._v(t._s(a.user.email))]),e("td",{staticClass:"rwdTitle",attrs:{"data-title":"購買款項"}},t._l(a.products,(function(s,i){return e("div",{key:a.id+s.product_id+i},[t._v(" "+t._s(s.id)+" 數量 : "+t._s(s.qty)+" ")])})),0),e("td",{staticClass:"text-right rwdTitle",attrs:{"data-title":"應付金額"}},[t._v(t._s(a.total))]),e("td",{staticClass:"rwdTitle",attrs:{"data-title":"是否付款"}},[a.is_paid?e("span",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])})),0)])]),e("div",{staticClass:"my-4 mx-auto"},[e("Pagination",{attrs:{pagination_menu:t.pagination_menu},on:{pageChange:t.getOrdersList}})],1)])])},oe=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center m-4"},[e("h3",[t._v("訂單管理")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"40"}},[t._v("購買時間")]),e("th",{attrs:{width:"100"}},[t._v("E-Mail")]),e("th",{attrs:{width:"140"}},[t._v("購買款項")]),e("th",{attrs:{width:"40"}},[t._v("應付金額")]),e("th",{attrs:{width:"60"}},[t._v("是否付款")])])}],ce={data:function(){return{}},components:{Pagination:bt},methods:{getOrdersList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("init_orders_list",t)}},created:function(){this.getOrdersList()},computed:{orders_menu:function(){return this.$store.getters["ORDERS_LIST_MENU"]},pagination_menu:function(){return this.$store.getters["ORDERS_PAGINATION_MENU"]},isLoading_status:function(){return this.$store.getters["LOADING_STATUS"]}}},le=ce,de=(e("ed3b"),Object(d["a"])(le,ne,oe,!1,null,"9c237f26",null)),ue=de.exports,me=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid px-0"},[e("div",[e("loading",{attrs:{active:t.isLoading_status},on:{"update:active":function(a){t.isLoading_status=a}}})],1),e("div",{staticClass:"my-4 mx-auto"},[t._m(0),e("div",{staticClass:"my-4 mx-auto"},[e("ProductsList",{attrs:{products_menu:t.products_menu,status:t.status},on:{infoHandler:t.infoHandler,addToCartHandler:t.addToCartHandler}})],1),e("div",{staticClass:"my-4 mx-auto"},[e("InfoModal",{attrs:{productInfo_menu:t.productInfo_menu},on:{addToCartHandler:t.addToCartHandler}}),e("CartModal")],1),e("div",{staticClass:"my-4 mx-auto"},[e("Pagination",{attrs:{pagination_menu:t.pagination_menu},on:{pageChange:t.getStoreList}})],1),e("div",[e("CartBtn")],1)])])},pe=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center m-4"},[e("h3",[t._v("模擬訂單")])])}],ve=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},t._l(t.products_menu,(function(a){return e("div",{key:a.id,staticClass:"col-12 col-md-6 col-xl-5 my-3 mx-auto"},[e("div",{staticClass:"card border-0 shadow-sm"},[e("div",{staticClass:"product-img",style:{backgroundImage:"url("+a.imageUrl+")"}}),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(a.category))]),e("h3",{staticClass:"card-title"},[e("span",{staticClass:"text-dark"},[t._v(t._s(a.title))])]),e("p",{staticClass:"card-text"},[t._v(t._s(t._f("textFilter")(a.content)))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e("del",{staticClass:"h6"},[t._v(t._s(t._f("currency")(a.origin_price)))]),e("div",{staticClass:"h3 text-danger"},[t._v(t._s(t._f("currency")(a.price)))])])]),e("div",{staticClass:"card-footer bg-dark d-flex"},[a.is_enabled?e("button",{staticClass:"btn-font-size btn btn-info btn-md",attrs:{type:"button"},on:{click:function(e){return t.openInfoModal(a)}}},[t.status.infoLoading===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 查看更多 ")]):e("button",{staticClass:"btn-font-size btn btn-light text-secondary btn-md",attrs:{type:"button"}},[t._v(" 未啟用 ")]),e("button",{staticClass:"btn-font-size btn btn-danger btn-md ml-auto",attrs:{type:"button"},on:{click:function(e){return t.addToCart(a.id)}}},[t.status.buyLoading===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 放入購物車 ")])])])])})),0)},_e=[],fe={data:function(){return{}},props:{products_menu:{type:Array,required:!0},status:{type:Object,required:!0}},methods:{openInfoModal:function(t){t.is_enabled&&this.$emit("infoHandler",t.id)},addToCart:function(t){this.$emit("addToCartHandler",t)}}},he=fe,ge=(e("a026"),Object(d["a"])(he,ve,_e,!1,null,"6a23e4f0",null)),Ce=ge.exports,be=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"AdmincartModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content border-0"},[t._m(0),e("div",{staticClass:"modal-body"},[0!==t.cart_menu.carts.length?e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"my-4 buyList"},[e("table",{staticClass:"table overFlowTable"},[t._m(1),e("tbody",[t._l(t.cart_menu.carts,(function(a){return e("tr",{key:a.id},[e("td",[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeItem(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),e("td",[t._v(" "+t._s(a.product.title)+" "),a.coupon?e("div",{staticClass:"text-success"},[t._v(" 已經套用優惠券 ")]):t._e()]),e("td",[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",[t._v(t._s(t._f("currency")(a.total)))])])})),e("tr",[e("td"),t._m(2),t.cart_menu.final_total!==t.cart_menu.total?e("td",{staticClass:"text-right"},[e("h5",[e("del",[t._v(t._s(t._f("currency")(t.cart_menu.total)))])])]):e("td",{staticClass:"text-right"},[e("h5",[t._v(t._s(t._f("currency")(t.cart_menu.total)))])])]),t.cart_menu.final_total!==t.cart_menu.total?e("tr",{staticClass:"text-success"},[e("td"),t._m(3),e("td",{staticClass:"text-right"},[e("h5",[t._v(t._s(t._f("currency")(t.cart_menu.final_total)))])])]):t._e()],2)])]),e("div",{staticClass:"input-group mb-3 input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.couponCode},on:{input:function(a){a.target.composing||(t.couponCode=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.sendCouponCode}},[t._v(" 套用優惠碼 ")])])])])]):t._e(),0!==t.cart_menu.carts.length?e("div",{staticClass:"row justify-content-center my-5 "},[e("form",{staticClass:"col-md-10"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("E-mail")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",id:"useremail",name:"email",placeholder:"請輸入Email",required:""},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),t.errors.has("email")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",id:"username",name:"name",placeholder:"請輸入姓名",required:""},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),t.errors.has("name")?e("span",{staticClass:"text-danger"},[t._v("姓名必須輸入")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required|regex:^[0-9]+",expression:"'required|regex:^[0-9]+'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"text",id:"usertel",name:"tel",placeholder:"請輸入電話",required:""},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),t.errors.has("tel")?e("span",{staticClass:"text-danger"},[t._v("電話必須輸入(只能輸入數字)")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"text",id:"useraddress",name:"address",placeholder:"請輸入地址",required:""},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t.errors.has("address")?e("span",{staticClass:"text-danger"},[t._v("請輸入地址")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usermessage"}},[t._v("留言")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{type:"textarea",id:"usermessage",name:"message"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})])])]):e("div",[t._v(" 目前購物車內沒有資料 ")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")]),e("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.submitOrder(a)}}},[t._v("前往結帳確認頁面")])])])])])},ye=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title"},[t._v("購物車內容")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"text-light",attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"10"}}),e("th",{staticClass:"text-danger",attrs:{width:"200"}},[t._v("品名")]),e("th",{staticClass:"text-danger",attrs:{width:"120"}},[t._v("數量")]),e("th",{staticClass:"text-danger",attrs:{width:"40"}},[t._v("單價")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[e("h5",[t._v("總計")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[e("h5",[t._v("折扣價")])])}],xe={data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},couponCode:""}},methods:{getCartData:function(){this.$store.dispatch("init_cart_data")},removeItem:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/cart/").concat(t);this.$http.delete(e).then((function(t){t.data.success?a.getCartData():a.$bus.$emit("message:push",t.data.message,"danger")}))},sendCouponCode:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/coupon"),e={code:this.couponCode};this.$http.post(a,{data:e}).then((function(a){a.data.success?(t.$bus.$emit("message:push",a.data.message,"success"),t.getCartData(),t.couponCode=""):t.$bus.$emit("message:push",a.data.message,"danger")}))},submitOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/order"),e=this.form;this.$validator.validate().then((function(s){s&&t.$http.post(a,{data:e}).then((function(a){a.data.success?t.$router.push("/admin/order_check/".concat(a.data.orderId)):t.$bus.$emit("message:push",a.data.message,"danger"),E()("#AdmincartModal").modal("hide")}))}))}},created:function(){this.getCartData()},computed:{cart_menu:function(){return this.$store.getters["CART_MENU"]}}},$e=xe,we=(e("2cbd"),Object(d["a"])($e,be,ye,!1,null,"70e86a1d",null)),Ne=we.exports,Pe=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"infoProductModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content border-0"},[e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.productInfo_menu.title))]),t._m(0)]),e("div",{staticClass:"modal-body"},[e("img",{staticClass:"productImg",attrs:{src:t.productInfo_menu.imageUrl}}),e("blockquote",{staticClass:"blockquote mt-3"},[e("p",[t._v(t._s(t.productInfo_menu.content))]),e("footer",{staticClass:"blockquote-footer text-right"},[t._v(t._s(t.productInfo_menu.description))])]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.productInfo_menu.price?t._e():e("div",{staticClass:"h4"},[t._v(t._s(t._f("currency")(t.productInfo_menu.origin_price))+" 元")]),t.productInfo_menu.price?e("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(t.productInfo_menu.origin_price*t.productNum))+" 元")]):t._e(),t.productInfo_menu.price?e("div",{staticClass:"h4"},[t._v("特價 "+t._s(t._f("currency")(t.productInfo_menu.price*t.productNum))+" 元")]):t._e()]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.productNum,expression:"productNum"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.productNum=a.target.multiple?e:e[0]}}},t._l(10,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" 選購 "+t._s(a)+" "+t._s(t.productInfo_menu.unit)+" ")])})),0)]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")]),e("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(a){return t.addToCart(t.productInfo_menu.id,t.productNum)}}},[t._v("確定")])])])])])},ke=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"text-light",attrs:{"aria-hidden":"true"}},[t._v("×")])])}],Ee={data:function(){return{productNum:1}},props:{productInfo_menu:{type:Object,require:!0}},methods:{addToCart:function(t,a){var e=this;this.$emit("addToCartHandler",t,a),window.setTimeout((function(){e.productNum=1}),1e3)}}},Oe=Ee,Ie=(e("c22c"),Object(d["a"])(Oe,Pe,ke,!1,null,"712a9eaf",null)),Te=Ie.exports,Le=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cart-div",on:{click:t.openCartModal}},[t._m(0),t.cart_counter>0?e("div",{staticClass:"text-light bg-danger cart-counter"},[t._v(" "+t._s(t.cart_counter)+" ")]):t._e()])},Me=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"cart-btn btn-primary",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-shopping-cart"})])}],je={data:function(){return{}},methods:{openCartModal:function(){E()("#AdmincartModal").modal("show")}},computed:{cart_counter:function(){var t=this.$store.getters["CART_MENU"];return t.carts.length}}},Se=je,De=(e("0ceb"),Object(d["a"])(Se,Le,Me,!1,null,"4bc1061c",null)),Ae=De.exports,Ue={data:function(){return{status:{infoLoading:"",buyLoading:""}}},components:{ProductsList:Ce,CartModal:Ne,InfoModal:Te,CartBtn:Ae,Pagination:bt},methods:{getStoreList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("init_store_list",t)},getProductInfo:function(t){this.$store.dispatch("init_product_info",t)},getCartData:function(){this.$store.dispatch("init_cart_data")},addToCartHandler:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/cart"),i={product_id:t,qty:e};this.status.buyLoading=t,this.$http.post(s,{data:i}).then((function(t){a.status.buyLoading="",t.data.success?a.$bus.$emit("message:push",t.data.message,"success"):a.$bus.$emit("message:push",t.data.message,"danger"),E()("#infoProductModal").modal("hide"),a.getCartData()}))},infoHandler:function(t){var a=this;this.status.infoLoading=t,this.getProductInfo(t),window.setTimeout((function(){a.status.infoLoading="",E()("#infoProductModal").modal("show")}),500)}},created:function(){this.getStoreList()},computed:{products_menu:function(){return this.$store.getters["STORE_LIST_MENU"]},pagination_menu:function(){return this.$store.getters["STORE_PAGINATION_MENU"]},productInfo_menu:function(){return this.$store.getters["PRODUCT_INFO_MENU"]},isLoading_status:function(){return this.$store.getters["LOADING_STATUS"]}}},qe=Ue,He=Object(d["a"])(qe,me,pe,!1,null,null,null),Re=He.exports,Je=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"contaier-fluid"},[e("div",{staticClass:"my-4 mx-auto"},[t._m(0),e("div",{staticClass:"my-4 mx-auto col-12 col-md-8"},[e("div",{staticClass:"my-4 buyList"},[e("table",{staticClass:"table overFlowTable"},[t._m(1),e("tbody",[t._l(t.orderData.order.products,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.product.title))]),e("td",[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"text-right"},[t._v(t._s(a.final_total))])])})),e("tr",[t._m(2),e("td",{staticClass:"text-right"},[e("h5",[t._v(t._s(t.orderData.order.total))])])])],2)])]),e("div",{staticClass:"my-4 infoList"},[e("table",{staticClass:"table overFlowTable"},[e("tbody",[e("tr",[t._m(3),e("td",[t._v(t._s(t.orderData.order.user.email))])]),e("tr",[t._m(4),e("td",[t._v(t._s(t.orderData.order.user.name))])]),e("tr",[t._m(5),e("td",[t._v(t._s(t.orderData.order.user.tel))])]),e("tr",[t._m(6),e("td",[t._v(t._s(t.orderData.order.user.address))])]),e("tr",[t._m(7),t.orderData.order.is_paid?e("td",{staticClass:"text-success"},[e("strong",[t._v("付款完成")])]):e("td",{staticClass:"text-danger"},[t._v("尚未付款")])])])])]),!1===t.orderData.order.is_paid?e("div",{staticClass:"my-4 mx-auto text-right"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"submit"},on:{click:function(a){return a.preventDefault(),t.payIt(a)}}},[t._v("確認付款(僅功能測試)")])]):t._e()])])])},Ge=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-8 my-6 mx-auto p-6 text-center alert alert-danger"},[t._v(" 此為付款測試頁面，"),e("strong",[t._v("不會進行任何金流活動")]),t._v("，僅會送出一個假資料進行驗證與測試 ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{staticClass:"text-danger",attrs:{width:"300"}},[t._v("品名")]),e("th",{staticClass:"text-danger",attrs:{width:"200"}},[t._v("數量")]),e("th",{staticClass:"text-danger",attrs:{width:"100"}},[t._v("單價")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[e("h5",[t._v("總計")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{attrs:{width:"120"}},[e("b",[t._v("Email")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{attrs:{width:"120"}},[e("b",[t._v("姓名")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{attrs:{width:"120"}},[e("b",[t._v("收件人電話")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{attrs:{width:"120"}},[e("b",[t._v("收件人地址")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{attrs:{width:"120"}},[e("b",[t._v("付款狀態")])])}],Fe={data:function(){return{orderId:"",orderData:{order:{user:{}}}}},methods:{getOrderCheck:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/order/").concat(this.orderId);this.$http.get(a).then((function(a){a.data.success?t.orderData=a.data:t.$bus.$emit("message:push",a.data.message,"danger")}))},payIt:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/pay/").concat(this.orderId);this.$http.post(a).then((function(a){a.data.success?(t.$bus.$emit("message:push",a.data.message,"success"),t.getOrderCheck()):t.$bus.$emit("message:push",a.data.message,"danger")}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrderCheck()}},Be=Fe,ze=(e("aca3"),Object(d["a"])(Be,Je,Ge,!1,null,"3a9ffcf8",null)),We=ze.exports;s["a"].use(h["a"]);var Qe=[{path:"*",redirect:"/"},{path:"/",component:J,children:[{path:"/",name:"About",component:x},{path:"/main",name:"main",component:mt},{path:"store",name:"Store",component:Dt},{path:"order_check/:orderId",name:"OrderCheck",component:Jt}]},{path:"/login",name:"Login",component:Qt},{path:"/admin",name:"admin",component:ua,redirect:"admin/products",meta:{requiresAuth:!0},children:[{path:"products",name:"AdminProducts",component:Sa,meta:{requiresAuth:!0}},{path:"coupon",name:"AdminCoupon",component:re,meta:{requiresAuth:!0}},{path:"orderlist",name:"AdminOrderList",component:ue,meta:{requiresAuth:!0}},{path:"store",name:"AdminStore",component:Re,meta:{requiresAuth:!0}},{path:"order_check/:orderId",name:"AdminOrderCheck",component:We,meta:{requiresAuth:!0}}]}],Ke=new h["a"]({routes:Qe,linkActiveClass:"active"}),Ve=Ke,Xe=e("2f62"),Ye=e("bc3a"),Ze=e.n(Ye);s["a"].use(Xe["a"]);var ts=new Xe["a"].Store({strict:!0,state:{productsList:{products:[],pagination:{}},couponsList:{coupons:[],pagination:{}},ordersList:{orders:[],pagination:{}},storeList:{products:[],pagination:{}},productInfo:{},cartData:{carts:[]},isLoading:!1},getters:{PRODUCTS_LIST_MENU:function(t){return t.productsList.products},PRODUCTS_PAGINATION_MENU:function(t){return t.productsList.pagination},COUPONS_LIST_MENU:function(t){return t.couponsList.coupons},COUPONS_PAGINATION_MENU:function(t){return t.couponsList.pagination},ORDERS_LIST_MENU:function(t){return t.ordersList.orders},ORDERS_PAGINATION_MENU:function(t){return t.ordersList.pagination},STORE_LIST_MENU:function(t){return t.storeList.products},STORE_PAGINATION_MENU:function(t){return t.storeList.pagination},PRODUCT_INFO_MENU:function(t){return t.productInfo},CART_MENU:function(t){return t.cartData},LOADING_STATUS:function(t){return t.isLoading}},mutations:{get_products_list:function(t,a){var e;e=JSON.stringify(a.products),t.productsList.products=JSON.parse(e),e=JSON.stringify(a.pagination),t.productsList.pagination=JSON.parse(e)},get_coupons_list:function(t,a){var e;e=JSON.stringify(a.coupons),t.couponsList.coupons=JSON.parse(e),e=JSON.stringify(a.pagination),t.couponsList.pagination=JSON.parse(e)},get_orders_list:function(t,a){var e;e=JSON.stringify(a.orders),t.ordersList.orders=JSON.parse(e),e=JSON.stringify(a.pagination),t.ordersList.pagination=JSON.parse(e)},get_store_list:function(t,a){var e;e=JSON.stringify(a.products),t.storeList.products=JSON.parse(e),e=JSON.stringify(a.pagination),t.storeList.pagination=JSON.parse(e)},get_product_info:function(t,a){var e;e=JSON.stringify(a),t.productInfo=JSON.parse(e)},get_cart_data:function(t,a){var e;e=JSON.stringify(a),t.cartData=JSON.parse(e)},loading_handler:function(t,a){t.isLoading=a}},actions:{init_products_list:function(t,a){var e=t.commit,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/admin/products?page=").concat(a);e("loading_handler",!0),Ze.a.get(s).then((function(t){e("loading_handler",!1),t.data.success?e("get_products_list",t.data):alert("取得商品列表失敗")})).catch((function(t){alert(t.message)}))},init_coupons_list:function(t,a){var e=t.commit,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/admin/coupons?page=").concat(a);e("loading_handler",!0),Ze.a.get(s).then((function(t){e("loading_handler",!1),t.data.success?e("get_coupons_list",t.data):alert("取得優惠券列表失誤")})).catch((function(t){alert(t.message)}))},init_orders_list:function(t,a){var e=t.commit,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/admin/orders?page=").concat(a);e("loading_handler",!0),Ze.a.get(s).then((function(t){e("loading_handler",!1),t.data.success?e("get_orders_list",t.data):alert("取得訂單資料失敗")})).catch((function(t){alert(t.message)}))},init_store_list:function(t,a){var e=t.commit,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/products?page=").concat(a);e("loading_handler",!0),Ze.a.get(s).then((function(t){e("loading_handler",!1),t.data.success?e("get_store_list",t.data):alert("取得商店資料失敗")})).catch((function(t){alert(t.message)}))},init_product_info:function(t,a){var e=t.commit,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/product/").concat(a);Ze.a.get(s).then((function(t){t.data.success?e("get_product_info",t.data.product):alert("取得商品詳細資料錯誤")})).catch((function(t){alert(t.message)}))},init_cart_data:function(t){var a=t.commit,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("johnsmith","/cart");a("loading_handler",!0),Ze.a.get(e).then((function(t){a("loading_handler",!1),t.data.success?a("get_cart_data",t.data.data):alert("取得購物車資料失敗")})).catch((function(t){alert(t.message)}))}},modules:{}}),as=e("7bb1"),es=e("427f"),ss=e.n(es),is=e("a925"),rs=e("a7fe"),ns=e.n(rs),os=e("9062"),cs=e.n(os);e("e40d"),e("4989");s["a"].prototype.$bus=new s["a"];e("9129");var ls=function(t){if(Number.isNaN(Number(t)))return"";var a=new Date(1e3*t);return a.toLocaleDateString()},ds=(e("a15b"),e("ac1f"),e("1276"),function(t){for(var a,e=t.split(""),s=[],i=0;i<45;i++)s.push(e[i]);return a=s.join(""),e.length>45&&(a+=" ‧‧‧"),a}),us=(e("b680"),e("5319"),function(t){var a=Number(t);return"$".concat(a.toFixed(0).replace(/./g,(function(t,a,e){var s=a&&"."!==t&&(e.length-a)%3===0?", ".concat(t).replace(/\s/g,""):t;return s})))});s["a"].config.productionTip=!1,s["a"].use(is["a"]);var ms=new is["a"]({locale:"zhTW"});s["a"].use(as["a"],{events:"input|blur",i18n:ms,dictionary:{zhTW:ss.a}}),s["a"].use(ns.a,Ze.a),Ze.a.defaults.withCredentials=!0,s["a"].component("Loading",cs.a),s["a"].filter("timeChanger",ls),s["a"].filter("textFilter",ds),s["a"].filter("currency",us),new s["a"]({i18n:ms,router:Ve,store:ts,render:function(t){return t(f)}}).$mount("#app"),Ve.beforeEach((function(t,a,e){if(t.meta.requiresAuth){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");Ze.a.post(s).then((function(t){t.data.success?e():e({path:"/login"})}))}else e()}))},5799:function(t,a,e){"use strict";var s=e("d08c"),i=e.n(s);i.a},"5b07":function(t,a,e){},"5b3c":function(t,a,e){"use strict";var s=e("ee9f"),i=e.n(s);i.a},"5c0b":function(t,a,e){"use strict";var s=e("9c0c"),i=e.n(s);i.a},"5e2f":function(t,a,e){"use strict";var s=e("266f"),i=e.n(s);i.a},"60bd":function(t,a,e){"use strict";var s=e("da0b"),i=e.n(s);i.a},"60c1":function(t,a,e){},"65f4":function(t,a,e){"use strict";var s=e("4106"),i=e.n(s);i.a},"67ab":function(t,a,e){},"6eac":function(t,a,e){"use strict";var s=e("5b07"),i=e.n(s);i.a},"6fa7":function(t,a,e){},"7e9c":function(t,a,e){},"8ec1":function(t,a,e){"use strict";var s=e("60c1"),i=e.n(s);i.a},"963e":function(t,a,e){},"9c0c":function(t,a,e){},a026:function(t,a,e){"use strict";var s=e("ec38"),i=e.n(s);i.a},a3b2:function(t,a,e){},aa88:function(t,a,e){"use strict";var s=e("46a2"),i=e.n(s);i.a},aca3:function(t,a,e){"use strict";var s=e("b83c"),i=e.n(s);i.a},afb0:function(t,a,e){"use strict";var s=e("cc2e"),i=e.n(s);i.a},b1d9:function(t,a,e){},b234:function(t,a,e){},b651:function(t,a,e){},b83c:function(t,a,e){},c22c:function(t,a,e){"use strict";var s=e("5108"),i=e.n(s);i.a},c55d:function(t,a,e){},cc2e:function(t,a,e){},d08c:function(t,a,e){},da0b:function(t,a,e){},dde9:function(t,a,e){"use strict";var s=e("b234"),i=e.n(s);i.a},dec5:function(t,a,e){"use strict";var s=e("b651"),i=e.n(s);i.a},df8b:function(t,a,e){},e6ce:function(t,a,e){"use strict";var s=e("67ab"),i=e.n(s);i.a},e946:function(t,a,e){"use strict";var s=e("c55d"),i=e.n(s);i.a},ec38:function(t,a,e){},ed3b:function(t,a,e){"use strict";var s=e("7e9c"),i=e.n(s);i.a},ee9f:function(t,a,e){}});
//# sourceMappingURL=app.d7542dfe.js.map